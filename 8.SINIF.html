<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8. Sınıf Fen Bilimleri - Mevsimler ve İklim</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGWFDuetmTBl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: #0f172a;
            color: #cbd5e1;
        }
        .card {
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.2), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        details > summary {
            transition: background-color 0.2s;
            cursor: pointer;
            padding: 1rem;
            border-radius: 0.5rem;
        }
        details[open] > summary {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }
        .explanation-content, .question-content, .assignment-content, .simulation-content {
            border-top: none;
            padding: 1.5rem;
            border: 1px solid #334155;
            border-top: none;
            border-bottom-left-radius: 0.5rem;
            border-bottom-right-radius: 0.5rem;
        }
        .katex { font-size: 1.1em !important; }
        /* Sekme Stilleri */
        .tab-button { transition: all 0.3s; }
        .tab-button.active { background-color: #3b82f6; color: white; box-shadow: 0 0 10px rgba(59, 130, 246, 0.4); }
        .tab-button:not(.active) { background-color: #374151; color: #d1d5db; }
        /* Animasyon Stilleri */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .unit-panel { display: none; }
        .unit-panel.active { display: block; animation: fadeIn 0.5s ease-in-out; }

        .question { padding: 1rem; border-left: 4px solid #f59e0b; margin-bottom: 1rem; border-radius: 0.25rem; background-color: #1e293b; }
        .solution { padding: 1rem; border-left: 4px solid #22c55e; margin-top: 0.5rem; border-radius: 0.25rem; background-color: #1e293b; }
        .assignment { padding: 1rem; border-left: 4px solid #8b5cf6; margin-top: 0.5rem; border-radius: 0.25rem; background-color: #1e293b; }
        .physics-correction { padding: 1rem; border-left: 4px solid #ef4444; margin-top: 0.5rem; border-radius: 0.25rem; background-color: #1e293b; }

        /* Mini Sınav Stilleri */
        .quiz-solution {
            display: none;
            margin-top: 1rem;
            background-color: #334155;
            padding: 1rem;
            border-radius: 0.5rem;
            border-left: 4px solid #10b981;
        }
        .quiz-button {
            background-color: #4f46e5;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background-color 0.2s;
            border: none;
            margin-top: 0.75rem;
            font-weight: 500;
        }
        .quiz-button:hover {
            background-color: #6366f1;
        }
        /* Slider stillendirmesi */
        input[type=range] { -webkit-appearance: none; background: transparent; width: 100%; margin-top: 0.5rem; }
        input[type=range]:focus { outline: none; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 16px; width: 16px; border-radius: 9999px; background: #3b82f6; cursor: pointer; margin-top: -6px; box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
        input[type=range]::-moz-range-thumb { height: 16px; width: 16px; border-radius: 9999px; background: #3b82f6; cursor: pointer; }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; cursor: pointer; background: #475569; border-radius: 9999px; }
        input[type=range]::-moz-range-track { width: 100%; height: 4px; cursor: pointer; background: #475569; border-radius: 9999px; }
        .value-display { font-weight: 600; color: #e2e8f0;}

        /* Mobil uyumluluk için ek stiller */
        @media (max-width: 768px) {
            .tab-button {
                font-size: 0.9rem;
                padding: 0.5rem 0.75rem;
            }
            .card {
                padding: 1rem;
            }
            canvas {
                max-width: 100%;
                height: auto;
            }
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-white">8. Sınıf Fen Bilimleri Eğitim Platformu</h1>
            <p class="text-lg text-slate-400 mt-2">Mevsimler ve İklim Ünitesi İnteraktif İçerik</p>
             <p class="text-sm text-slate-500 mt-4">
               Kaynak: SEV Okulları Fen Bilimleri Ders Notu (MEB Müfredatı Uyumlu) <br>
               Bu interaktif eğitim materyali, sağlanan ders notu temel alınarak AI tarafından oluşturulmuştur.
            </p>
        </header>

        <nav class="flex flex-wrap justify-center gap-2 mb-8" id="unit-tabs">
            <button data-unit="1" class="tab-button active font-semibold py-2 px-4 rounded-lg">1. Ünite: Mevsimler ve İklim</button>
        </nav>

        <main id="unit-content">
            <div id="unit-1" class="unit-panel active">
                <section class="card bg-slate-800 p-6 md:p-8 rounded-xl mb-8">
                    <h2 class="text-2xl md:text-3xl font-bold mb-6 text-blue-400 border-b border-b-slate-600 pb-4">1. Bölüm: Mevsimlerin Oluşumu</h2>

                    <details open class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-blue-300 hover:bg-slate-600/50 font-semibold">Konu Anlatımı</summary>
                        <div class="explanation-content space-y-4">
                            <p>Güneş ışınları yeryüzüne yıl boyunca farklı açılarla düşer. Bu açının değişimi, bölgenin sıcaklığını ve cisimlerin gölge boyunu etkiler. Mevsimleri (Kış, ilkbahar, yaz, sonbahar) farklı kılan en önemli özelliklerden biri sıcaklık farklılığıdır. Örneğin, aynı tarihte Türkiye'de kış yaşanırken Brezilya'da yaz yaşanabilir.</p>

                            <div class="bg-slate-700 p-4 rounded-lg my-4">
                                <p class="font-semibold text-blue-300 mb-2">Temel Kavramlar:</p>
                                <ul class="space-y-3">
                                    <li><strong class="text-blue-200">Dünya'nın Dönme Ekseni:</strong> Dünya'nın merkezinden geçerek Kuzey ve Güney kutup noktalarını birleştiren hayali çizgidir. Bu eksen $23^{\circ}27^{\prime}$ eğiktir.</li>
                                    <li><strong class="text-blue-200">Dünya'nın Dolanma Düzlemi:</strong> Dünya'nın Güneş etrafında dolanımı sırasında izlediği yoldur.</li>
                                    <li><strong class="text-blue-200">Ekvator:</strong> Kutup noktalarından eşit uzaklıkta, Dünya'yı iki eşit parçaya bölen hayali çizgidir.</li>
                                    <li><strong class="text-blue-200">Yengeç Dönencesi:</strong> Kuzey Yarım Küre'de Ekvator'un $23^{\circ}27^{\prime}$ kuzeyinden geçtiği varsayılan enlemdir.</li>
                                    <li><strong class="text-blue-200">Oğlak Dönencesi:</strong> Güney Yarım Küre'de Ekvator'un $23^{\circ}27^{\prime}$ güneyinden geçtiği varsayılan enlemdir.</li>
                                </ul>
                            </div>

                             <p><strong class="text-blue-200">Dünya'nın Kendi Ekseni Etrafında Dönmesi (Günlük Hareket):</strong></p>
                             <ul class="list-disc list-inside space-y-1">
                                 <li>Bu hareket 24 saat sürer ve <strong>bir gün</strong> olarak adlandırılır.</li>
                                 <li>Güneşe bakan taraf gündüzü, bakmayan taraf geceyi yaşar. Bu durum <strong>gece ve gündüz oluşumunu</strong> sağlar.</li>
                                 <li>Gün içinde Güneş ışınlarının gelme açısı ve cisimlerin gölge boyları değişir. Öğle vakti gölge en kısadır.</li>
                                 <li>Güneş ışığı alan ve almayan bölgeler arasındaki sıcaklık farkı, <strong>günlük sıcaklık farklarını</strong> ve buna bağlı olarak basınç farkları ve <strong>rüzgârları</strong> oluşturur.</li>
                                 <li>Yerel saat farklarının oluşmasını sağlar.</li>
                             </ul>

                             <p><strong class="text-blue-200">Mevsimlerin Oluşumu (Yıllık Hareket):</strong></p>
                             <ul class="list-disc list-inside space-y-1">
                                 <li>Mevsimler, iki temel nedenden dolayı oluşur:
                                     <ol class="list-decimal list-inside ml-4">
                                        <li>Dünya'nın Güneş etrafında dolanması.</li>
                                        <li>Dünya'nın dönme ekseninin $23^{\circ}27^{\prime}$ eğik olması. Bu eğiklik, Güneş ışınlarının yıl içindeki düşme açılarında farklılıklara neden olur.</li>
                                     </ol>
                                 </li>
                                 <li><strong class="text-red-300">Önemli Not:</strong> Mevsimlerin oluşumunda Dünya'nın Güneş'e olan uzaklığının etkisi <strong>yoktur</strong>. Dünya Güneş'e en yakınken (3 Ocak) Kuzey Yarım Küre kışı yaşar, en uzakken (4 Temmuz) yazı yaşar.</li>
                                 <li>Güneş ışınları dik veya dike yakın açıyla düştüğü yarım küre yüzeyine daha fazla ısı enerjisi aktarır ve sıcaklıklar yükselir (Yaz mevsimi).</li>
                                 <li>Güneş ışınları eğik açıyla düştüğü yarım küre yüzeyine daha az ısı enerjisi aktarır ve sıcaklıklar düşer (Kış mevsimi). Eğik gelen ışınlar daha geniş bir alanı aydınlatır.</li>
                                 <li>Eksen eğikliği ve yıllık hareket ayrıca; gece-gündüz sürelerinin değişmesine, yıllık sıcaklık farklarına, gölge boylarının değişmesine ve kutuplarda 6 ay gece-6 ay gündüz yaşanmasına neden olur.</li>
                             </ul>

                             <div class="bg-slate-700 p-4 rounded-lg my-4">
                                <p class="font-semibold text-blue-300 mb-2">Önemli Tarihler:</p>
                                <ul class="space-y-4">
                                     <li><strong class="text-blue-200">21 Haziran (Yaz Gündönümü - KYK):</strong>
                                        <ul class="list-disc list-inside ml-4">
                                            <li>Güneş ışınları öğle vakti Yengeç Dönencesi'ne dik düşer.</li>
                                            <li>KYK'de yaz, GYK'de kış başlar.</li>
                                            <li>KYK'de en uzun gündüz, en kısa gece yaşanır. GYK'de tersi.</li>
                                            <li>Bu tarihten sonra KYK'de gündüzler kısalmaya, geceler uzamaya başlar.</li>
                                        </ul>
                                    </li>
                                     <li><strong class="text-blue-200">21 Aralık (Kış Gündönümü - KYK):</strong>
                                        <ul class="list-disc list-inside ml-4">
                                            <li>Güneş ışınları öğle vakti Oğlak Dönencesi'ne dik düşer.</li>
                                            <li>KYK'de kış, GYK'de yaz başlar.</li>
                                            <li>KYK'de en uzun gece, en kısa gündüz yaşanır. GYK'de tersi.</li>
                                            <li>Bu tarihten sonra KYK'de gündüzler uzamaya, geceler kısalmaya başlar.</li>
                                        </ul>
                                    </li>
                                     <li><strong class="text-blue-200">21 Mart (İlkbahar Ekinoksu - KYK):</strong>
                                        <ul class="list-disc list-inside ml-4">
                                            <li>Güneş ışınları öğle vakti Ekvator'a dik düşer. Eksen eğikliği etkisi ortadan kalkar.</li>
                                            <li>KYK'de ilkbahar, GYK'de sonbahar başlar.</li>
                                            <li>Dünya'nın her yerinde gece ve gündüz süreleri eşittir (12 saat).</li>
                                        </ul>
                                    </li>
                                     <li><strong class="text-blue-200">23 Eylül (Sonbahar Ekinoksu - KYK):</strong>
                                        <ul class="list-disc list-inside ml-4">
                                            <li>Güneş ışınları öğle vakti Ekvator'a dik düşer. Eksen eğikliği etkisi ortadan kalkar.</li>
                                            <li>KYK'de sonbahar, GYK'de ilkbahar başlar.</li>
                                            <li>Dünya'nın her yerinde gece ve gündüz süreleri eşittir (12 saat).</li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <p><strong>Gölge Boyu Değişimi:</strong> Güneş ışınlarının dik geldiği yerde öğle vakti gölge boyu sıfır olur. Yıl içinde gölge boyu değişir. KYK'de Yengeç Dönencesi üzerinde 21 Haziran'da, GYK'de Oğlak Dönencesi üzerinde 21 Aralık'ta, Ekvator'da ise 21 Mart ve 23 Eylül'de öğle vakti gölge sıfır olur. Genel olarak, yazın gölgeler kısa, kışın uzundur.</p>
                        </div>
                    </details>

                    <details class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-teal-300 hover:bg-slate-600/50 font-semibold">Simülasyon: Güneş Işınlarının Geliş Açısı</summary>
                        <div class="simulation-content flex flex-col items-center">
                            <canvas id="sunAngleCanvas" width="500" height="350" class="bg-slate-600 rounded-lg"></canvas>
                            <div class="mt-4 w-full max-w-md">
                                <label for="sunAngleSlider" class="text-slate-400">Geliş Açısı: <span id="sunAngleValue" class="value-display">45°</span></label>
                                <input type="range" id="sunAngleSlider" min="10" max="90" value="45" step="1">
                                <p class="text-sm text-center mt-2">Açıyı değiştirerek ışınların kapladığı alanı ve yoğunluğunu gözlemleyin.</p>
                            </div>
                        </div>
                    </details>

                    <details class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-teal-300 hover:bg-slate-600/50 font-semibold">Simülasyon: Günlük Gölge Boyu Değişimi</summary>
                        <div class="simulation-content flex flex-col items-center">
                            <canvas id="dailyShadowCanvas" width="500" height="300" class="bg-slate-600 rounded-lg"></canvas>
                            <div class="mt-4 w-full max-w-md">
                                <label for="timeOfDaySlider" class="text-slate-400">Günün Saati: <span id="timeOfDayValue" class="value-display">12:00</span></label>
                                <input type="range" id="timeOfDaySlider" min="6" max="18" value="12" step="0.5">
                                <p class="text-sm text-center mt-2">Saati değiştirerek gölge boyunun ve yönünün nasıl değiştiğini gözlemleyin.</p>
                            </div>
                        </div>
                    </details>

                    <details class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-yellow-300 hover:bg-slate-600/50 font-semibold">Örnek Sorular</summary>
                        <div class="question-content space-y-6">
                            <div class="question">
                                <p class="font-semibold">Soru 1 (Etkinlik 1 Uyarlaması):</p>
                                <p>Bir ışık kaynağı masa üzerine Şekil-1'deki gibi dik, Şekil-2'deki gibi eğik açıyla tutuluyor. A bölgesindeki sıcaklığın B bölgesinden fazla olduğu gözlemleniyor.<br>
                                a) Şekil-1 ve Şekil-2'de ışınların gelme açıları nasıldır?<br>
                                b) Birim yüzeye düşen ışın miktarı hangi bölgede daha fazladır?<br>
                                c) Bu deney Dünya'ya gelen Güneş ışınlarının hangi etkisini modellemektedir?</p>
                            </div>
                            <div class="solution">
                                <p class="font-semibold">Çözüm:</p>
                                <p>a) Şekil-1'de ışınlar dik açıyla, Şekil-2'de eğik açıyla gelmektedir.<br>
                                b) Dik gelen ışınlar daha dar bir alana düştüğü için birim yüzeye düşen ışın miktarı A bölgesinde daha fazladır.<br>
                                c) Bu deney, Güneş ışınlarının Dünya yüzeyine farklı açılarla düşmesinin (eksen eğikliği ve Dünya'nın şekli nedeniyle) birim yüzeye aktarılan enerji miktarını ve dolayısıyla sıcaklığı nasıl etkilediğini modellemektedir. Dik gelen ışınlar yaz mevsimini, eğik gelen ışınlar kış mevsimini temsil eder.</p>
                            </div>
                            <div class="question">
                                <p class="font-semibold">Soru 2 (Etkinlik 2 Uyarlaması):</p>
                                <p>Yandaki grafikte, K şehrinde yere dik bir çubuğun öğle vakti gölge boyunun yıl içindeki değişimi gösterilmektedir. Gölge boyu 21 Aralık'ta sıfır olmaktadır. Bu K şehri Dünya üzerinde nerede bulunur?</p>
                                 [Image of shadow length graph zero at Dec 21]
                            </div>
                            <div class="solution">
                                <p class="font-semibold">Çözüm:</p>
                                <p>Bir cismin üzerine Güneş ışınları dik açıyla düştüğünde gölgesi oluşmaz (sıfır olur). Grafik, gölge boyunun 21 Aralık'ta öğle vakti sıfır olduğunu göstermektedir. 21 Aralık tarihinde Güneş ışınları öğle vakti Oğlak Dönencesi üzerindeki noktalara dik açıyla düşer. Dolayısıyla K şehri Güney Yarım Küre'deki <strong>Oğlak Dönencesi</strong> üzerindedir.</p>
                            </div>
                             <div class="question">
                                <p class="font-semibold">Soru 3 (Etkinlik 5 Uyarlaması):</p>
                                <p>Aşağıdaki görselde Dünya'nın Güneş etrafındaki A, B, C, D konumları gösterilmiştir.<br>
                                a) Dünya hangi konumda iken Kuzey Yarım Küre'deki Yengeç Dönencesi'ne Güneş ışınları öğle vakti dik düşer?<br>
                                b) Dünya C konumunda iken hangi yarım kürede yaz mevsimi yaşanır? Neden?<br>
                                c) Dünya hangi konumlarda iken tüm Dünya'da gece gündüz eşitliği yaşanır?</p>
                                 [Image of Earth's orbit positions A, B, C, D]
                           </div>
                            <div class="solution">
                                <p class="font-semibold">Çözüm:</p>
                                <p>a) Güneş ışınları Yengeç Dönencesi'ne 21 Haziran'da dik düşer. Görselde Kuzey Yarım Küre'nin Güneş'e en dönük olduğu konum A'dır (21 Haziran'ı temsil eder). Dolayısıyla cevap <strong>A konumu</strong>dur.<br>
                                b) C konumu, Güney Yarım Küre'nin Güneş'e en dönük olduğu, Güneş ışınlarının Oğlak Dönencesi'ne dik geldiği 21 Aralık tarihini temsil eder. Bu tarihte Güney Yarım Küre yüzeyine daha fazla ısı enerjisi düşer ve <strong>Güney Yarım Küre'de yaz</strong> mevsimi başlar.<br>
                                c) Gece gündüz eşitliği (ekinoks) 21 Mart ve 23 Eylül tarihlerinde yaşanır. Bu tarihlerde Güneş ışınları Ekvator'a dik düşer. Görselde bu durumlar <strong>B (23 Eylül) ve D (21 Mart)</strong> konumlarına karşılık gelir.</p>
                            </div>
                        </div>
                    </details>

                    <details class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-purple-300 hover:bg-slate-600/50 font-semibold">Ödevler</summary>
                        <div class="assignment-content">
                            <div class="assignment">
                               <p class="font-semibold">Alıştırma 1:</p>
                               <p>Dünya'nın Güneş etrafındaki yörüngesini çizin. Üzerinde 21 Haziran, 21 Aralık, 21 Mart ve 23 Eylül tarihlerindeki konumlarını işaretleyin. Her konum için Kuzey ve Güney Yarım Küre'de hangi mevsimin başladığını belirtin.</p>
                            </div>
                             <div class="assignment mt-4">
                               <p class="font-semibold">Alıştırma 2:</p>
                               <p>Eksen eğikliği olmasaydı Dünya'da yaşam nasıl farklı olurdu? Mevsimler, gece-gündüz süreleri ve sıcaklık farkları açısından 3 madde yazınız.</p>
                            </div>
                        </div>
                    </details>
                </section>

                 <section class="card bg-slate-800 p-6 md:p-8 rounded-xl mb-8">
                    <h2 class="text-2xl md:text-3xl font-bold mb-6 text-green-400 border-b border-b-slate-600 pb-4">2. Bölüm: İklim ve Hava Olayları</h2>

                    <details open class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-green-300 hover:bg-slate-600/50 font-semibold">Konu Anlatımı</summary>
                        <div class="explanation-content space-y-4">
                            <p>İnsanlar yaşam şekillerini, giyeceklerini, evlerini ve tarımsal faaliyetlerini yaşadıkları bölgenin hava koşullarına göre belirler. Çölde yaşayanlarla kutuplarda yaşayanların kıyafetlerinin farklı olması buna örnektir.</p>

                             <p><strong class="text-green-200">Hava Olayları:</strong></p>
                             <ul class="list-disc list-inside space-y-1">
                                 <li>Belirli bir yerde ve <strong>kısa sürede</strong> (saatlik, günlük, haftalık) etkili olan hava şartlarıdır.</li>
                                 <li>Basınç, rüzgâr, nem, yağış, sıcaklık gibi değişkenlere bağlıdır.</li>
                                 <li>İlgilenen bilim dalı <strong>meteoroloji</strong>, bilim insanı <strong>meteorolog</strong>dur.</li>
                                 <li><strong>Dar bir alanda</strong> yapılan gözlemlere dayanır.</li>
                                 <li>Sonuçları <strong>tahminidir</strong>.</li>
                                 <li>Hava durumunu belirtirken bulutlu, sisli, yağmurlu, güneşli, açık gibi ifadeler kullanılır ve sembollerle gösterilir. Rüzgâr, yağmur, kar, dolu, sis, kırağı, çiy hava olaylarına örnektir.</li>
                             </ul>

                             <p><strong class="text-green-200">İklim:</strong></p>
                             <ul class="list-disc list-inside space-y-1">
                                 <li><strong>Geniş bir bölgede</strong>, <strong>uzun yıllar boyunca</strong> (en az 35-40 yıl) gözlemlenen hava olaylarının <strong>ortalama</strong> durumudur.</li>
                                 <li>İlgilenen bilim dalı <strong>klimatoloji (iklim bilimi)</strong>, bilim insanı <strong>klimatolog (iklim bilimci)</strong>dir.</li>
                                 <li>Sonuçları <strong>kesindir</strong>.</li>
                                 <li>İklimi tarif ederken kurak, soğuk, ılık, yağışlı gibi ifadeler kullanılır.</li>
                                 <li>Bir bölgenin iklimini; coğrafi konumu, deniz seviyesinden yüksekliği, yer şekilleri gibi faktörler belirler.</li>
                                 <li>Türkiye'de başlıca <strong>Karasal iklim</strong> (Kışlar soğuk/kar yağışlı, yazlar sıcak/kurak), <strong>Karadeniz iklimi</strong> (Her mevsim yağışlı, ılıman) ve <strong>Akdeniz iklimi</strong> (Yazlar sıcak/kurak, kışlar ılık/yağışlı) görülür.</li>
                            </ul>

                             <div class="bg-slate-700 p-4 rounded-lg my-4">
                                <p class="font-semibold text-green-300 mb-2">İklim ve Hava Olayları Arasındaki Farklar:</p>
                                <table class="w-full text-left border-collapse mt-2">
                                    <thead>
                                        <tr class="bg-slate-600">
                                            <th class="border border-slate-500 px-4 py-2">Özellik</th>
                                            <th class="border border-slate-500 px-4 py-2">İklim</th>
                                            <th class="border border-slate-500 px-4 py-2">Hava Olayı</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr><td class="border border-slate-500 px-4 py-2">Etki Alanı</td><td class="border border-slate-500 px-4 py-2">Geniş Bölge</td><td class="border border-slate-500 px-4 py-2">Dar Alan</td></tr>
                                        <tr><td class="border border-slate-500 px-4 py-2">Süre</td><td class="border border-slate-500 px-4 py-2">Uzun Yıllar (Ortalama)</td><td class="border border-slate-500 px-4 py-2">Kısa Süre (Günlük, haftalık)</td></tr>
                                        <tr><td class="border border-slate-500 px-4 py-2">Veri</td><td class="border border-slate-500 px-4 py-2">~35-40 yıllık ortalama</td><td class="border border-slate-500 px-4 py-2">Anlık Gözlemler</td></tr>
                                        <tr><td class="border border-slate-500 px-4 py-2">Kesinlik</td><td class="border border-slate-500 px-4 py-2">Kesin</td><td class="border border-slate-500 px-4 py-2">Tahmini</td></tr>
                                        <tr><td class="border border-slate-500 px-4 py-2">Bilim Dalı</td><td class="border border-slate-500 px-4 py-2">Klimatoloji</td><td class="border border-slate-500 px-4 py-2">Meteoroloji</td></tr>
                                         <tr><td class="border border-slate-500 px-4 py-2">Uzman</td><td class="border border-slate-500 px-4 py-2">Klimatolog</td><td class="border border-slate-500 px-4 py-2">Meteorolog</td></tr>
                                         <tr><td class="border border-slate-500 px-4 py-2">Değişkenlik</td><td class="border border-slate-500 px-4 py-2">Az</td><td class="border border-slate-500 px-4 py-2">Fazla</td></tr>
                                    </tbody>
                                </table>
                             </div>

                            <p><strong class="text-green-200">Rüzgâr Oluşumu:</strong></p>
                            <ul class="list-disc list-inside space-y-1">
                                <li>Atmosferdeki gazlar temas ettikleri yüzeylere basınç uygular. Isınan havanın yoğunluğu azalır, yükselir ve bulunduğu bölgede <strong>Alçak Basınç Alanı</strong> oluşturur. Soğuyan havanın yoğunluğu artar, alçalır ve bulunduğu bölgede <strong>Yüksek Basınç Alanı</strong> oluşturur.</li>
                                <li>Hava daima basıncın yüksek olduğu yerden (soğuk bölge), basıncın düşük olduğu yere (sıcak bölge) doğru hareket eder. Bu yatay yönlü hava hareketine <strong>rüzgâr</strong> denir.</li>
                                <li>Basınç farkı ne kadar fazlaysa, rüzgâr o kadar şiddetli eser.</li>
                                <li><strong>Alçak Basınç Alanı Özellikleri:</strong> Hava sıcaktır, yükselici hava hareketi görülür, hava genellikle bulutludur, yağış görülme ihtimali fazladır. Hava akımı çevreden merkeze doğrudur.</li>
                                <li><strong>Yüksek Basınç Alanı Özellikleri:</strong> Hava soğuktur (düşük sıcaklık), alçaltıcı hava hareketi görülür, hava genellikle açıktır, yağış görülmez veya ihtimali azdır. Hava akımı merkezden çevreye doğrudur.</li>
                            </ul>

                             <p><strong class="text-green-200">Yağış Şekilleri ve Diğer Hava Olayları:</strong></p>
                             <ul class="list-disc list-inside space-y-1">
                                 <li><strong>Gökyüzüne Yakın Yoğunlaşma:</strong>
                                    <ul class="list-circle list-inside ml-4">
                                        <li><strong>Yağmur:</strong> Su buharının yoğunlaşıp su damlacıkları halinde düşmesi.</li>
                                        <li><strong>Kar:</strong> Su buharının $0^{\circ}C$'tan daha düşük bir sıcaklıkta buz kristalleri oluşur ve yeryüzüne düşer.</li>
                                        <li><strong>Dolu:</strong> Su damlacıklarının soğuk havanın etkisiyle aniden donarak buz parçaları halinde düşmesi.</li>
                                    </ul>
                                </li>
                                <li><strong>Yeryüzüne Yakın Yoğunlaşma:</strong>
                                     <ul class="list-circle list-inside ml-4">
                                        <li><strong>Çiy:</strong> Su buharının soğuk nesneler üzerinde su damlacıkları şeklinde yoğunlaşması.</li>
                                        <li><strong>Kırağı:</strong> Su buharının yeryüzüne yakın yerlerde kırağılaşarak buz kristallerine dönüşmesi.</li>
                                        <li><strong>Sis:</strong> Su buharının yeryüzüne yakın yerde yoğunlaşarak havada asılı kalan çok küçük su damlacıkları veya buz kristalleri.</li>
                                    </ul>
                                </li>
                            </ul>

                             <p><strong class="text-green-200">Küresel İklim Değişikliği:</strong></p>
                             <ul class="list-disc list-inside space-y-1">
                                 <li>Atmosferdeki karbondioksit ($CO_2$), metan ($CH_4$), su buharı ($H_2O$) gibi gazlar <strong>sera gazları</strong>dır.</li>
                                 <li>Bu gazlar, yeryüzünden yansıyan ısıyı (Güneş ışınlarını) tutarak Dünya'nın ortalama sıcaklığının korunmasını sağlar. Buna <strong>sera etkisi</strong> denir.</li>
                                 <li>İnsan faaliyetleri (fosil yakıt kullanımı vb.) nedeniyle sera gazlarının atmosferde aşırı artması, Dünya'nın ortalama sıcaklığının yükselmesine, yani <strong>küresel ısınmaya</strong> neden olur.</li>
                                 <li>Küresel ısınmaya bağlı olarak iklimlerde meydana gelen genel değişikliklere <strong>küresel iklim değişikliği</strong> denir.</li>
                                 <li>Sonuçları: Buzulların erimesi, deniz seviyesinin yükselmesi, kuraklık, aşırı hava olayları (şiddetli fırtınalar, seller), tarım alanlarının zarar görmesi gibi olumsuz etkilerdir.</li>
                             </ul>
                        </div>
                    </details>

                     <details class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-teal-300 hover:bg-slate-600/50 font-semibold">Simülasyon: Rüzgar Oluşumu</summary>
                        <div class="simulation-content flex flex-col items-center">
                            <canvas id="windCanvas" width="500" height="300" class="bg-slate-600 rounded-lg"></canvas>
                            <div class="mt-4 grid grid-cols-2 gap-4 w-full max-w-md">
                                <div>
                                    <label for="tempLeftSlider" class="text-slate-400">Sol Bölge Sıcaklık: <span id="tempLeftValue" class="value-display">10°C</span></label>
                                    <input type="range" id="tempLeftSlider" min="0" max="40" value="10" step="1">
                                </div>
                                 <div>
                                    <label for="tempRightSlider" class="text-slate-400">Sağ Bölge Sıcaklık: <span id="tempRightValue" class="value-display">30°C</span></label>
                                    <input type="range" id="tempRightSlider" min="0" max="40" value="30" step="1">
                                </div>
                            </div>
                             <p id="windInfo" class="text-center mt-2 font-semibold text-cyan-300">Rüzgar Soldan Sağa Esiyor (Yüksek Basınç -> Alçak Basınç)</p>
                        </div>
                    </details>

                     <details class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-yellow-300 hover:bg-slate-600/50 font-semibold">Örnek Sorular</summary>
                        <div class="question-content space-y-6">
                            <div class="question">
                                <p class="font-semibold">Soru 1 (Etkinlik 1 Uyarlaması - Sayfa 31):</p>
                                <p>Aşağıdaki ifadelerden hangileri iklimi, hangileri hava olayını belirtir? <br>
                                a) Rize yoğun yağış alan bir ilimizdir.<br>
                                b) Hafta sonu İstanbul'da yoğun kar uyarısı yapıldı.<br>
                                c) Adana'da yazlar sıcak ve kurak geçer.<br>
                                d) Manisa'da sabaha karşı yoğun sis bekleniyor.<br>
                                e) Mersin ilimizin yıllık ortalama sıcaklığı $21^{\circ}C$'dir.</p>
                            </div>
                            <div class="solution">
                                <p class="font-semibold">Çözüm:</p>
                                <p>a) İklim (Genel ve uzun süreli bir özellik) <br>
                                b) Hava Olayı (Kısa süreli tahmin) <br>
                                c) İklim (Genel ve uzun süreli özellik) <br>
                                d) Hava Olayı (Kısa süreli tahmin) <br>
                                e) İklim (Uzun süreli ortalama değer)</p>
                            </div>
                            <div class="question">
                                <p class="font-semibold">Soru 2 (Etkinlik 2 Uyarlaması - Sayfa 37):</p>
                                <p>İki özdeş mumdan biri K bölgesine, diğeri L bölgesine konuluyor. K bölgesindeki mum yanarken L bölgesindeki yanmıyor. Ortadaki balonun hareket yönü rüzgârın yönünü gösteriyor.<br>
                                a) Hangi bölge daha sıcaktır?<br>
                                b) Hangi bölgede alçak basınç alanı oluşur?<br>
                                c) Balon hangi yönde hareket eder (rüzgâr nereden nereyedir)?</p>
                                 [Image of candle experiment with balloon]
                           </div>
                            <div class="solution">
                                <p class="font-semibold">Çözüm:</p>
                                <p>a) Yanan mumun olduğu K bölgesi daha sıcaktır.<br>
                                b) Sıcak olan bölgede hava yükselir ve alçak basınç alanı oluşur. Yani <strong>K bölgesi</strong> alçak basınç alanıdır. L bölgesi ise yüksek basınç alanıdır.<br>
                                c) Rüzgâr yüksek basınç alanından (soğuk - L) alçak basınç alanına (sıcak - K) doğru eser. Dolayısıyla balon <strong>L'den K'ya doğru (1 yönünde)</strong> hareket eder.</p>
                            </div>
                             <div class="question">
                                <p class="font-semibold">Soru 3 (Sayfa 35):</p>
                                <p>Su buharının $0^{\circ}C$ altında, yeryüzüne yakın soğuk yüzeylerde doğrudan buz kristallerine dönüşmesiyle oluşan hava olayı nedir?</p>
                            </div>
                            <div class="solution">
                                <p class="font-semibold">Çözüm:</p>
                                <p>Bu olay <strong>Kırağı</strong>dır. Çiy, su damlacıklarıdır; Kar, gökyüzünde oluşan buz kristalleridir.</p>
                            </div>
                        </div>
                    </details>

                     <details class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-purple-300 hover:bg-slate-600/50 font-semibold">Ödevler</summary>
                        <div class="assignment-content">
                            <div class="assignment">
                               <p class="font-semibold">Alıştırma 1:</p>
                               <p>Yaşadığınız yerin iklim özelliklerini (örn: hangi iklim tipi görülür, yaz ve kışlar nasıl geçer, en çok yağış ne zaman alınır?) araştırınız.</p>
                            </div>
                             <div class="assignment mt-4">
                               <p class="font-semibold">Alıştırma 2:</p>
                               <p>Küresel iklim değişikliğinin olumsuz etkilerini azaltmak için bireysel olarak yapabileceğimiz 3 şey listeleyiniz.</p>
                            </div>
                        </div>
                    </details>

                     <details class="mb-6 bg-slate-700/50 rounded-lg">
                        <summary class="text-amber-300 hover:bg-slate-600/50 font-semibold">Mini Sınav</summary>
                        <div class="question-content space-y-6">
                            <div class="question">
                                <p class="font-semibold">Soru 1:</p>
                                <p>Mevsimlerin oluşmasının iki temel nedeni nedir?</p>
                            </div>
                            <button class="quiz-button">Cevabı Göster</button>
                            <div class="quiz-solution">
                                <p class="font-semibold">Cevap:</p>
                                <p>1. Dünya'nın Güneş etrafında dolanması.<br>2. Dünya'nın dönme ekseninin eğik olması ($23^{\circ}27^{\prime}$).</p>
                            </div>
                            <div class="question">
                                <p class="font-semibold">Soru 2:</p>
                                <p>Hava olayları ile iklim arasındaki temel farkı (süre ve alan açısından) açıklayınız.</p>
                            </div>
                            <button class="quiz-button">Cevabı Göster</button>
                            <div class="quiz-solution">
                                <p class="font-semibold">Cevap:</p>
                                <p>Hava olayları, dar bir alanda kısa süreli (günlük, haftalık) hava şartlarıdır. İklim ise geniş bir bölgede uzun yıllar boyunca (35-40 yıl) gözlenen hava olaylarının ortalamasıdır.</p>
                            </div>
                             <div class="question">
                                <p class="font-semibold">Soru 3:</p>
                                <p>Rüzgâr, hangi basınç alanından hangi basınç alanına doğru eser?</p>
                            </div>
                            <button class="quiz-button">Cevabı Göster</button>
                            <div class="quiz-solution">
                                <p class="font-semibold">Cevap:</p>
                                <p>Rüzgâr, yüksek basınç alanından alçak basınç alanına doğru eser.</p>
                            </div>
                             <div class="question">
                                <p class="font-semibold">Soru 4:</p>
                                <p>Sera etkisine neden olan gazlardan iki tanesini yazınız.</p>
                            </div>
                            <button class="quiz-button">Cevabı Göster</button>
                            <div class="quiz-solution">
                                <p class="font-semibold">Cevap:</p>
                                <p>Karbondioksit ($CO_2$), Metan ($CH_4$), Su buharı ($H_2O$).</p>
                            </div>
                        </div>
                    </details>
                </section>
            </div>
            </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // === DEĞİŞKENLER VE TEMEL FONKSİYONLAR ===
        let animationFrames = {
            sunAngle: null,
            dailyShadow: null,
            wind: null
        };

        function stopAllAnimations() {
            for (let key in animationFrames) {
                if(animationFrames[key]) {
                    cancelAnimationFrame(animationFrames[key]);
                    animationFrames[key] = null;
                }
            }
        }

        // === YARDIMCI FONKSIYONLAR ===
        function drawArrow(ctx, fromx, fromy, tox, toy, color = 'white', width = 2, headlen = 8) {
            const dx = tox - fromx;
            const dy = toy - fromy;
            const angle = Math.atan2(dy, dx);
            ctx.strokeStyle = color;
            ctx.fillStyle = color; // Ok ucunu doldurmak için
            ctx.lineWidth = width;
            ctx.beginPath();
            ctx.moveTo(fromx, fromy);
            ctx.lineTo(tox, toy);
            ctx.stroke(); // Çizgiyi çiz

             // Ok ucunu çiz ve doldur
            ctx.beginPath();
            ctx.moveTo(tox, toy);
            ctx.lineTo(tox - headlen * Math.cos(angle - Math.PI / 6), toy - headlen * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(tox - headlen * Math.cos(angle + Math.PI / 6), toy - headlen * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
        }

       // === GÜNEŞ AÇISI SİMÜLASYONU ===
        function initSunAngleSim(panel) {
            const canvas = panel.querySelector('#sunAngleCanvas');
            if (!canvas || animationFrames.sunAngle) return;
            const ctx = canvas.getContext('2d');
            const slider = panel.querySelector('#sunAngleSlider');
            const valueDisplay = panel.querySelector('#sunAngleValue');
            const sunSize = 20;

            function draw() {
                const angleDeg = parseFloat(slider.value);
                valueDisplay.textContent = `${angleDeg}°`;
                const angleRad = angleDeg * Math.PI / 180;

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const groundY = canvas.height - 50;
                const sunX = canvas.width / 2;
                const sunY = 50;

                // Yer çizgisi
                ctx.strokeStyle = '#94a3b8';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(50, groundY);
                ctx.lineTo(canvas.width - 50, groundY);
                ctx.stroke();

                // Güneş
                ctx.fillStyle = '#facc15';
                ctx.beginPath();
                ctx.arc(sunX, sunY, sunSize, 0, 2 * Math.PI);
                ctx.fill();

                // Işınlar
                const numRays = 5;
                const raySpacing = 25;
                const totalRayWidth = (numRays - 1) * raySpacing;
                const startRayX = sunX - totalRayWidth / 2;

                ctx.strokeStyle = '#fde047'; // Soluk sarı ışın
                ctx.lineWidth = 2;
                ctx.fillStyle = 'rgba(253, 224, 71, 0.3)'; // Yarı saydam sarı alan

                const groundIntercepts = [];

                for (let i = 0; i < numRays; i++) {
                    const rayStartX = startRayX + i * raySpacing;
                    const rayStartY = sunY + sunSize;

                    // Işının yere değeceği x koordinatını hesapla
                    // tan(90 - angleRad) = (groundY - rayStartY) / dx
                    const dx = (groundY - rayStartY) / Math.tan(angleRad);
                    const rayEndX = rayStartX + dx;
                    groundIntercepts.push(rayEndX);

                    // Işını çiz
                    ctx.beginPath();
                    ctx.moveTo(rayStartX, rayStartY);
                    ctx.lineTo(rayEndX, groundY);
                    ctx.stroke();
                }

                // Aydınlanan alanı doldur
                if (groundIntercepts.length >= 2) {
                    ctx.beginPath();
                    ctx.moveTo(groundIntercepts[0], groundY);
                    for (let i = 1; i < groundIntercepts.length; i++) {
                         ctx.lineTo(groundIntercepts[i], groundY);
                    }
                    // Alanı kapatmak için teorik ışın başlangıçlarını kullan (görsel amaçlı)
                    const lastRayStartX = startRayX + (numRays - 1) * raySpacing;
                     ctx.lineTo(lastRayStartX, sunY + sunSize);
                     ctx.lineTo(startRayX, sunY + sunSize);
                    ctx.closePath();
                    ctx.fill();

                     // Alan genişliğini yaz
                    const areaWidth = groundIntercepts[numRays - 1] - groundIntercepts[0];
                    ctx.fillStyle = '#e2e8f0';
                    ctx.font = '14px Inter';
                    ctx.textAlign = 'center';
                    ctx.fillText(`Aydınlanan Alan Genişliği: ${areaWidth.toFixed(0)} px`, canvas.width / 2, groundY + 20);

                    // Yoğunluk temsili
                    const intensity = (1 / areaWidth) * 5000; // Ters orantılı temsili değer
                    ctx.fillText(`Birim Alana Düşen Enerji (Temsili): ${intensity.toFixed(1)}`, canvas.width / 2, groundY + 40);
                }

                animationFrames.sunAngle = requestAnimationFrame(draw);
            }

            if(slider) {
                slider.addEventListener('input', () => {
                   if(animationFrames.sunAngle) cancelAnimationFrame(animationFrames.sunAngle); // Önceki animasyonu durdur
                   draw(); // Yeniden çiz
                });
            }
            draw();
        }

        // === GÜNLÜK GÖLGE SİMÜLASYONU ===
        function initDailyShadowSim(panel) {
            const canvas = panel.querySelector('#dailyShadowCanvas');
             if (!canvas || animationFrames.dailyShadow) return;
            const ctx = canvas.getContext('2d');
            const slider = panel.querySelector('#timeOfDaySlider');
            const valueDisplay = panel.querySelector('#timeOfDayValue');

             function formatTime(hourDecimal) {
                const hour = Math.floor(hourDecimal);
                const minute = Math.round((hourDecimal - hour) * 60);
                return `${String(hour).padStart(2, '0')}:${String(minute).padStart(2, '0')}`;
            }

            function draw() {
                const time = parseFloat(slider.value);
                valueDisplay.textContent = formatTime(time);

                // Güneşin pozisyonunu (açısını) saate göre hesapla (basitleştirilmiş)
                // Öğlen (12:00) en yüksek açı (90 dereceye yakın), sabah/akşam düşük açı
                 const sunAngleVertical = Math.sin((time - 6) / 12 * Math.PI) * 70 + 10; // 6-18 arası 0-180 derece sinüs
                 const sunAngleHorizontalFactor = (time - 12) / 6; // -1 (sabah) ile +1 (akşam) arası

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const groundY = canvas.height - 30;
                const stickHeight = 100;
                const stickX = canvas.width / 2;
                const stickTopY = groundY - stickHeight;

                // Yer
                ctx.fillStyle = '#4ade80'; // Yeşil zemin
                ctx.fillRect(0, groundY, canvas.width, 30);

                // Gökyüzü (saate göre renk değişimi)
                const skyBlue = Math.max(0, 200 - Math.abs(time - 12) * 20); // Öğlen en parlak mavi
                 ctx.fillStyle = `rgb(100, 150, ${skyBlue})`;
                 ctx.fillRect(0, 0, canvas.width, groundY);

                // Güneş
                const sunX = canvas.width / 2 + sunAngleHorizontalFactor * (canvas.width * 0.4);
                const sunY = groundY - stickHeight - sunAngleVertical * 1.5; // Yüksekliği açıya göre ayarla
                ctx.fillStyle = '#facc15';
                ctx.beginPath();
                ctx.arc(sunX, sunY, 15, 0, 2 * Math.PI);
                ctx.fill();

                 // Çubuk
                ctx.strokeStyle = '#713f12'; // Kahverengi
                ctx.lineWidth = 6;
                ctx.beginPath();
                ctx.moveTo(stickX, groundY);
                ctx.lineTo(stickX, stickTopY);
                ctx.stroke();

                // Gölge
                if (sunAngleVertical > 5) { // Güneş ufkun çok altındaysa gölge çizme
                     const shadowLength = stickHeight / Math.tan(sunAngleVertical * Math.PI / 180);
                     const shadowEndX = stickX - shadowLength * sunAngleHorizontalFactor * 1.5; // Yönü saate göre

                     ctx.fillStyle = 'rgba(0, 0, 0, 0.4)'; // Yarı saydam siyah gölge
                     ctx.beginPath();
                     ctx.moveTo(stickX - 3, groundY); // Çubuğun dibinden başla
                     ctx.lineTo(shadowEndX, groundY);
                     ctx.lineTo(stickX + 3, groundY);
                     ctx.closePath();
                     ctx.fill();

                     // Gölge boyu bilgisi
                      ctx.fillStyle = '#0f172a';
                      ctx.font = '12px Inter';
                      ctx.textAlign = 'center';
                      ctx.fillText(`Gölge Boyu: ${Math.abs(shadowEndX - stickX).toFixed(0)} px`, stickX, groundY + 15);
                 } else {
                     ctx.fillStyle = '#0f172a';
                     ctx.font = '12px Inter';
                     ctx.textAlign = 'center';
                     ctx.fillText("Gölge Yok (Güneş Ufukta)", stickX, groundY + 15);
                 }


                animationFrames.dailyShadow = requestAnimationFrame(draw);
            }
             if (slider) {
                 slider.addEventListener('input', () => {
                    if(animationFrames.dailyShadow) cancelAnimationFrame(animationFrames.dailyShadow);
                    draw();
                });
             }
            draw();
        }

        // === RÜZGAR SİMÜLASYONU ===
        function initWindSim(panel) {
            const canvas = panel.querySelector('#windCanvas');
             if (!canvas || animationFrames.wind) return;
            const ctx = canvas.getContext('2d');
            const tempLeftSlider = panel.querySelector('#tempLeftSlider');
            const tempRightSlider = panel.querySelector('#tempRightSlider');
            const tempLeftValue = panel.querySelector('#tempLeftValue');
            const tempRightValue = panel.querySelector('#tempRightValue');
            const windInfo = panel.querySelector('#windInfo');

            let particles = [];
            const numParticles = 50;

            function initParticles() {
                particles = [];
                for (let i = 0; i < numParticles; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * (canvas.height - 40) + 20, // Yerden biraz yukarıda
                        vx: 0
                    });
                }
            }
            initParticles();

            function draw() {
                const tempLeft = parseFloat(tempLeftSlider.value);
                const tempRight = parseFloat(tempRightSlider.value);
                tempLeftValue.textContent = `${tempLeft.toFixed(0)}°C`;
                tempRightValue.textContent = `${tempRight.toFixed(0)}°C`;

                 // Sıcaklık farkına göre rüzgar hızı ve yönü (basitleştirilmiş)
                const tempDiff = tempLeft - tempRight; // Sol soğuksa pozitif, sağ soğuksa negatif
                const windSpeed = tempDiff * 0.05; // Farkla orantılı hız

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // Bölgeleri renklendir (Mavi soğuk, Kırmızı sıcak)
                const maxTemp = 40;
                const leftColorIntensity = Math.min(255, Math.max(0, (tempLeft / maxTemp) * 255));
                const rightColorIntensity = Math.min(255, Math.max(0, (tempRight / maxTemp) * 255));

                 // Sol Bölge Arka Plan
                const gradientLeft = ctx.createLinearGradient(0, 0, canvas.width / 2, 0);
                gradientLeft.addColorStop(0, `rgba(${255-leftColorIntensity}, 100, ${leftColorIntensity}, 0.6)`);
                 gradientLeft.addColorStop(1, `rgba(${255-leftColorIntensity}, 100, ${leftColorIntensity}, 0.1)`);
                ctx.fillStyle = gradientLeft;
                ctx.fillRect(0, 0, canvas.width / 2, canvas.height);

                 // Sağ Bölge Arka Plan
                const gradientRight = ctx.createLinearGradient(canvas.width / 2, 0, canvas.width, 0);
                 gradientRight.addColorStop(0, `rgba(${255-rightColorIntensity}, 100, ${rightColorIntensity}, 0.1)`);
                 gradientRight.addColorStop(1, `rgba(${255-rightColorIntensity}, 100, ${rightColorIntensity}, 0.6)`);
                ctx.fillStyle = gradientRight;
                ctx.fillRect(canvas.width / 2, 0, canvas.width / 2, canvas.height);


                // Basınç Etiketleri
                ctx.fillStyle = '#e2e8f0';
                ctx.font = '16px Inter';
                ctx.textAlign = 'center';
                if (tempLeft < tempRight) {
                    ctx.fillText('Yüksek Basınç (Soğuk)', canvas.width * 0.25, 30);
                    ctx.fillText('Alçak Basınç (Sıcak)', canvas.width * 0.75, 30);
                    windInfo.textContent = "Rüzgar Soldan Sağa Esiyor (YB -> AB)";
                } else if (tempRight < tempLeft) {
                    ctx.fillText('Alçak Basınç (Sıcak)', canvas.width * 0.25, 30);
                    ctx.fillText('Yüksek Basınç (Soğuk)', canvas.width * 0.75, 30);
                    windInfo.textContent = "Rüzgar Sağdan Sola Esiyor (YB -> AB)";
                } else {
                     ctx.fillText('Eşit Basınç', canvas.width / 2, 30);
                     windInfo.textContent = "Rüzgar Yok (Basınç Farkı Yok)";
                }

                // Hava Akım Parçacıkları
                ctx.fillStyle = 'rgba(226, 232, 240, 0.7)'; // Yarı saydam beyaz
                particles.forEach(p => {
                    p.x += windSpeed + (Math.random() - 0.5) * 0.5; // Rüzgar + hafif rastgele hareket

                     // Kenarlardan dönme
                    if (p.x > canvas.width) p.x = 0;
                    if (p.x < 0) p.x = canvas.width;

                     // Yükselme/Alçalma (Görsel efekt)
                     if (tempRight > tempLeft && p.x > canvas.width / 2) { // Sağ taraf sıcaksa orada yükselme
                         p.y -= Math.random() * 0.5;
                     } else if (tempLeft > tempRight && p.x < canvas.width / 2) { // Sol taraf sıcaksa orada yükselme
                         p.y -= Math.random() * 0.5;
                     } else { // Soğuk tarafta alçalma
                         p.y += Math.random() * 0.5;
                     }
                      // Sınırlar içinde kalma
                     p.y = Math.max(20, Math.min(canvas.height - 20, p.y));

                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
                    ctx.fill();
                });

                animationFrames.wind = requestAnimationFrame(draw);
            }
            function updateSim() {
                if(animationFrames.wind) cancelAnimationFrame(animationFrames.wind);
                initParticles(); // Parçacıkları sıfırla ki yön değişimi görülsün
                draw();
            }

            if(tempLeftSlider) tempLeftSlider.addEventListener('input', updateSim);
            if(tempRightSlider) tempRightSlider.addEventListener('input', updateSim);

            draw();
        }


        // === ANA KOD BAŞLANGICI ===
        function initSimulationsForUnit(unitNumber, targetPanel) {
            stopAllAnimations();
            if (!targetPanel) return;

             // Simülasyonları ID'lerine göre bul ve başlat
             if (targetPanel.querySelector('#sunAngleCanvas')) initSunAngleSim(targetPanel);
             if (targetPanel.querySelector('#dailyShadowCanvas')) initDailyShadowSim(targetPanel);
             if (targetPanel.querySelector('#windCanvas')) initWindSim(targetPanel);
            // Mevsim simülasyonu eklenirse buraya eklenir
        }

        const tabs = document.querySelectorAll('.tab-button');
        const katexRenderedUnits = new Set(); // Hangi ünitelerde KaTeX render edildiğini takip etmek için

        // Belirli bir panel için KaTeX'i render eden fonksiyon
        function renderKatexForPanel(panel) {
            if (!panel) return;
            const panelId = panel.id;
            // Eğer KaTeX kütüphanesi yüklenmişse ve bu panel daha önce render edilmemişse
            if (typeof renderMathInElement !== 'undefined' && !katexRenderedUnits.has(panelId)) {
                try { // Hata yakalama eklendi
                    renderMathInElement(panel, {
                        delimiters: [
                            {left: '$$', right: '$$', display: true},
                            {left: '$', right: '$', display: false}
                        ],
                        throwOnError: false // Hata durumunda işlemi durdurma
                    });
                    katexRenderedUnits.add(panelId); // Paneli render edildi olarak işaretle
                 } catch (e) {
                    console.error("KaTeX render error in panel:", panelId, e);
                 }
            }
        }

        // Sekme değiştirme işlevselliği
        tabs.forEach(tab => {
            tab.addEventListener('click', (e) => {
                // Aktif sekmeyi güncelle
                document.querySelector('.tab-button.active')?.classList.remove('active');
                e.currentTarget.classList.add('active');

                const unitNumber = e.currentTarget.getAttribute('data-unit');

                // Aktif paneli güncelle
                document.querySelector('.unit-panel.active')?.classList.remove('active');
                const targetPanel = document.getElementById(`unit-${unitNumber}`);
                if (targetPanel) {
                    targetPanel.classList.add('active');
                }

                // Yeni panel için simülasyonları ve KaTeX'i başlat/render et
                 initSimulationsForUnit(unitNumber, targetPanel);
                renderKatexForPanel(targetPanel);
            });
        });

        // Sayfa yüklendiğinde ilk sekmenin simülasyonlarını başlat ve KaTeX'i render et
        const initialPanel = document.querySelector('.unit-panel.active');
         initSimulationsForUnit('1', initialPanel);
        renderKatexForPanel(initialPanel);

        // Mini Sınav Butonları İşlevselliği
        document.querySelectorAll('.quiz-button').forEach(button => {
            button.addEventListener('click', () => {
                const solution = button.nextElementSibling; // Butondan sonraki element (çözüm div'i)
                if (solution && solution.classList.contains('quiz-solution')) {
                    if (solution.style.display === 'block') {
                        solution.style.display = 'none';
                        button.textContent = 'Cevabı Göster';
                    } else {
                        solution.style.display = 'block';
                        button.textContent = 'Cevabı Gizle';
                         // Çözüm gösterildiğinde KaTeX'i render et (eğer içinde formül varsa)
                        if (typeof renderMathInElement !== 'undefined') {
                            try { // Hata yakalama eklendi
                                 renderMathInElement(solution, {
                                    delimiters: [
                                        {left: '$$', right: '$$', display: true},
                                        {left: '$', right: '$', display: false}
                                    ],
                                     throwOnError: false // Hata durumunda işlemi durdurma
                                 });
                             } catch (e) {
                                console.error("KaTeX render error in solution:", e);
                             }
                        }
                    }
                }
            });
        });
    });
    </script>
</body>
</html>